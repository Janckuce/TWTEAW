RUS_Bolshevik_Solidarity = {
	RUS_Impending_Sabotage = {
		priority = 1
		days_mission_timeout = 30
		days_re_enable = 5
		is_good = no

		allowed = {
			tag = RUS
		}

		available = {
			has_idea = RUS_Bolsheviks_Crushed
		}

		timeout_effect = {
			custom_effect_tooltip = RUS_Bolshevik_Increase
			if = {
				limit = {
					not = {
						check_variable = {
							RUS.Bolshevik_Support = 100
						}
					}
				}
				add_to_variable = {
					RUS.Bolshevik_Support = 10
				}
			}
			if = {
				limit = {
					and = {
						check_variable = {
							RUS.Bolshevik_Support > 50
						}
						has_idea = RUS_Bolshevik_Sabotage
					}
				}
				swap_ideas = {
					remove_idea = RUS_Bolshevik_Sabotage
					add_idea = RUS_Bolshevik_Sabotage1
				}
			}
			else_if = {
				limit = {
					and = {
						check_variable = {
							RUS.Bolshevik_Support = 100
						}
						has_idea = RUS_Bolshevik_Sabotage1
					}
				}
				swap_ideas = {
					remove_idea = RUS_Bolshevik_Sabotage1
					add_idea = RUS_Bolshevik_Sabotage2
				}
			}
		}

		complete_effect = {
		}
	}
	RUS_Raid_Bolshevik_Facilities = {
		priority = 1
		days_re_enable = 10

		allowed = {
			tag = RUS
		}
		
		visible = {
			not = {
				has_idea = RUS_Bolsheviks_Crushed
			}
		}

		available = {
			custom_trigger_tooltip = {
				not = {
					check_variable = {
						RUS.Bolshevik_Support = 10
					}
				}
				tooltip = RUS_Bolshevik_Limit
			}
		}

		complete_effect = {
			custom_effect_tooltip = RUS_Bolshevik_Decrease
			add_stability = -0.01
			subtract_from_variable = {
				RUS.Bolshevik_Support = 10
			}
			if = {
				limit = {
					and = {
						check_variable = {
							RUS.Bolshevik_Support < 60
						}
						has_idea = RUS_Bolshevik_Sabotage1
					}
				}
				swap_ideas = {
					remove_idea = RUS_Bolshevik_Sabotage1
					add_idea = RUS_Bolshevik_Sabotage
				}
			}
			else_if = {
				limit = {
					and = {
						not = {
							check_variable = {
								RUS.Bolshevik_Support = 100
							}
						}
						has_idea = RUS_Bolshevik_Sabotage2
					}
				}
				swap_ideas = {
					remove_idea = RUS_Bolshevik_Sabotage2
					add_idea = RUS_Bolshevik_Sabotage1
				}
			}
		}
	}
	RUS_Crush_The_Bolsheviks = {
		priority = 1
		fire_only_once = yes

		allowed = {
			tag = RUS
		}

		available = {
			has_government = neutrality
		}

		complete_effect = {
			if = {
				limit = {
					has_idea = RUS_Bolshevik_Sabotage
				}
				remove_ideas = RUS_Bolshevik_Sabotage
			}
			else_if = {
				limit = {
					has_idea = RUS_Bolshevik_Sabotage1
				}
				remove_ideas = RUS_Bolshevik_Sabotage1
			}
			else_if = {
				limit = {
					has_idea = RUS_Bolshevik_Sabotage2
				}
				remove_ideas = RUS_Bolshevik_Sabotage2
			}
			remove_mission = RUS_Impending_Sabotage
			add_ideas = RUS_Bolsheviks_Crushed
		}
	}
}

RUS_Peasants_Land_Bank_Category = {
	RUS_Sieze_Land = {
		priority = 1
		days_remove = 30
		cost = 30
		allowed = {
			tag = RUS
		}
		visible = {
			or = {
				has_idea = RUS_Agrarian_Industry3
				has_idea = RUS_Agrarian_Industry4
				has_idea = RUS_Agrarian_Industry5
			}
		}
		remove_effect = {
			if = {
				limit = {
					has_idea = RUS_Agrarian_Industry3
				}
				swap_ideas = {
					remove_idea = RUS_Agrarian_Industry3
					add_idea = RUS_Agrarian_Industry4
				}
			}
			else_if = {
				limit = {
					has_idea = RUS_Agrarian_Industry4
				}
				swap_ideas = {
					remove_idea = RUS_Agrarian_Industry4
					add_idea = RUS_Agrarian_Industry5
				}
			}
			else_if = {
				limit = {
					has_idea = RUS_Agrarian_Industry5
				}
				remove_ideas = RUS_Agrarian_Industry5
			}
		}
	}
	RUS_Enact_Land_Reforms = {
		priority = 1
		cost = 50
		fire_only_once = yes
		allowed = {
			tag = RUS
		}
		visible = {
			not = {
				or = {
					has_idea = RUS_Agrarian_Industry
					has_idea = RUS_Agrarian_Industry1
					has_idea = RUS_Agrarian_Industry2
					has_idea = RUS_Agrarian_Industry3
					has_idea = RUS_Agrarian_Industry4
					has_idea = RUS_Agrarian_Industry5
				}
			}
		}
		complete_effect = {
			add_ideas = RUS_Land_Reforms
		}
	}
}

RUS_Laboratories_Category = {
	RUS_Use_What_We've_Learnt = {
		priority = 1
		days_remove = 30
		cost = 50
		fire_only_once = yes
		allowed = {
			tag = RUS
		}
		visible = {
			has_completed_focus = RUS_Establish_Laboratories
			has_idea = RUS_Lack_Of_Scientists3
		}
		remove_effect = {
			remove_ideas = RUS_Lack_Of_Scientists3
			
		}
		complete_effect = {
			add_ideas = RUS_Promoting_Intellectuals
		}
	}
	RUS_Infantry_Experts = {
		priority = 1
		cost = 50
		days_re_enable = 200
		allowed = {
			tag = RUS
		}
		visible = {
			has_completed_focus = RUS_Establish_Laboratories
			not = {
				has_idea = RUS_Lack_Of_Scientists3
			}
		}
		complete_effect = {
			add_tech_bonus = {
				name = "add a name"
				category = infantry_weapons
				bonus = 1
				uses = 1
			}
		}
	}
	RUS_Support_Experts = {
		priority = 1
		cost = 50
		days_re_enable = 200
		allowed = {
			tag = RUS
		}
		visible = {
			has_completed_focus = RUS_Establish_Laboratories
			not = {
				has_idea = RUS_Lack_Of_Scientists3
			}
		}
		complete_effect = {
			add_tech_bonus = {
				name = "add a name 2, electric boogaloo"
				category = support_tech
				bonus = 1
				uses = 1
			}
		}
	}
	RUS_Armour_Experts = {
		priority = 1
		cost = 50
		days_re_enable = 200
		allowed = {
			tag = RUS
		}
		visible = {
			has_completed_focus = RUS_Establish_Laboratories
			not = {
				has_idea = RUS_Lack_Of_Scientists3
			}
		}
		complete_effect = {
			add_tech_bonus = {
				name = "Oh this one is armour, cool"
				category = armor
				bonus = 1
				uses = 1
			}
		}
	}
	RUS_Artillery_Experts = {
		priority = 1
		cost = 50
		days_re_enable = 200
		allowed = {
			tag = RUS
		}
		visible = {
			has_completed_focus = RUS_Establish_Laboratories
			not = {
				has_idea = RUS_Lack_Of_Scientists3
			}
		}
		complete_effect = {
			add_tech_bonus = {
				name = "Artillery very nice"
				category = artillery
				bonus = 1
				uses = 1
			}
		}
	}
	RUS_Naval_Experts = {
		priority = 1
		cost = 50
		days_re_enable = 200
		allowed = {
			tag = RUS
		}
		visible = {
			has_completed_focus = RUS_Establish_Laboratories
			not = {
				has_idea = RUS_Lack_Of_Scientists3
			}
		}
		complete_effect = {
			add_tech_bonus = {
				name = "Why is navy here???"
				category = naval_equipment
				bonus = 1
				uses = 1
			}
		}
	}
	RUS_Aircraft_Experts = {
		priority = 1
		cost = 50
		days_re_enable = 200
		allowed = {
			tag = RUS
		}
		visible = {
			has_completed_focus = RUS_Establish_Laboratories
			not = {
				has_idea = RUS_Lack_Of_Scientists3
			}
		}
		complete_effect = {
			add_tech_bonus = {
				name = "add a name"
				category = air_equipment
				bonus = 1
				uses = 1
			}
		}
	}
}

RUS_Military_Academy_Category = {
	RUS_Army_Modernisation = {
		priority = 1
		days_remove = 80
		cost = 100
		allowed = {
				RUS = {
					or = {
					has_idea = RUS_Dated_Warfare1
					has_idea = RUS_Dated_Warfare2
					has_idea = RUS_Dated_Warfare3
					has_idea = RUS_Dated_Warfare4
					has_idea = RUS_Dated_Warfare5
					}
				}
			}
			visible = {
				or = {
					has_completed_focus = RUS_Mass_Mobilise
					has_completed_focus = RUS_Establish_Military_Academy
				}
				or = {
					has_idea = RUS_Dated_Warfare1
					has_idea = RUS_Dated_Warfare2
					has_idea = RUS_Dated_Warfare3
					has_idea = RUS_Dated_Warfare4
					has_idea = RUS_Dated_Warfare5
				}
			}
		remove_effect = {
			if = {
				limit = {
					has_idea = RUS_Dated_Warfare1
				}
				swap_ideas = {
					remove_idea = RUS_Dated_Warfare1
					add_idea = RUS_Dated_Warfare2
				}
			}
			else_if = {
				limit = {
					has_idea = RUS_Dated_Warfare2
				}
				swap_ideas = {
					remove_idea = RUS_Dated_Warfare2
					add_idea = RUS_Dated_Warfare3
				}
			}
			else_if = {
				limit = {
					has_idea = RUS_Dated_Warfare3
				}
				swap_ideas = {
					remove_idea = RUS_Dated_Warfare3
					add_idea = RUS_Dated_Warfare4
				}
			}
			else_if = {
				limit = {
					has_idea = RUS_Dated_Warfare4
				}
				swap_ideas = {
					remove_idea = RUS_Dated_Warfare4
					add_idea = RUS_Dated_Warfare5
				}
			}
			else_if = {
				limit = {
					has_idea = RUS_Dated_Warfare5
				}
				swap_ideas = {
					remove_idea = RUS_Dated_Warfare5
					add_idea = RUS_Contemporary_Warfare
				}
			}
		}
	}
	RUS_Organised_Offensive = {
		priority = 1
		custom_cost_trigger = {
			command_power > 15
		}
		custom_cost_text = decision_cost_CP_25
		visible = {
			has_completed_focus = RUS_Establish_Military_Academy
		}
		complete_effect = {
			add_timed_idea = {
				idea = RUS_Mobilise_The_Nation
				days = 100
			}
		}
	}
	RUS_Mobilisation = {
		priority = 1
		custom_cost_trigger = {
			command_power > 15
		}
		custom_cost_text = decision_cost_CP_25
		visible = {
			has_completed_focus = RUS_Mass_Mobilise
		}
		complete_effect = {
			add_timed_idea = {
				idea = RUS_Brusilov_Offensive
				days = 100
			}
		}
	}
}

RUS_Murmansk_Category = {
	RUS_Found_Murmansk = {
		priority = 1
		icon = GFX_decision_hol_draw_up_staff_plans
		
		fire_only_once = yes
		visible = {
			not = {
				RUS = {
					has_country_flag = RUS_Murmansk_founded
				}
			}
		}
		
		available = {
			ORO = {	has_country_flag = WW1_started_spectator }
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 213
			controls_state = 213 # Murmansk
			owns_state = 215
			controls_state = 215 # Onega
			OR = {
				controls_state = 214 # Arkhangelsk
				controls_state = 216 # Olonets
				controls_state = 146 # Karelia
				controls_state = 879 # Kargopol
			} # Onega + these = simulate ensuring things can actually be done
			
		}
		
		cost = 25
		days_remove = 60
		modifier = {
			civilian_factory_use = 3
		} # 25 PP and 3 civs for 60 days, we can tweak this later if we want
		
		ai_will_do = {
			factor = 1
		}
		
		remove_effect = {
			set_victory_points = { # set Murmansk to 5 VP
				province = 3134
				value = 5
			}
			213 = { # Murmansk state, needs to be set as scope for what's in here
				set_building_level = {
					type = naval_base
					level = 2
					province = { id = 3134 } # build lv2 naval base in Murmansk
				}
			}
			RUS = {
				set_country_flag = RUS_Murmansk_founded
			}
		}
		
	}
}
